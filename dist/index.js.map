{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import NProgress, { NProgressOptions } from \"nprogress\";\nimport React, { useEffect } from \"react\";\n\nimport Router from \"next/router\";\n\ninterface NextProgressProps {\n  height?: number | string;\n  color?: string;\n  delay?: number;\n  options?: Partial<NProgressOptions>;\n  nonce?: string;\n  customGlobalCss?: JSX.Element;\n}\n\n/**\n * @param height Height of the progress bar.\n * @param color Color of the progress bar.\n * @param delay Delay of the animation - when page loads faster than the delay time progress bar won't be displayed.\n * @param options Options for - NProgress.configure(options).\n * @param customGlobalCss Custom NProgress styles - must be provided as a string that will go inside the <style jsx> tag. Color param won't work as you should set the color yourself inside custom css.\n */\nconst NextProgress = React.memo(\n  ({\n    height = \"2px\",\n    color = \"#29D\",\n    delay = 0,\n    options,\n    customGlobalCss,\n  }: NextProgressProps) => {\n    const nextProgressStyles = (\n      <style>\n        {customGlobalCss ||\n          `\n      /* Source: https://unpkg.com/nprogress@0.2.0/nprogress.css + styled-components implementation */\n      /* Make clicks pass-through */\n      #nprogress {\n        pointer-events: none;\n      }\n      #nprogress .bar {\n        background: ${color};\n        position: fixed;\n        z-index: 99999;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: ${typeof height === `string` ? height : `${height}px`};\n      }\n      /* Fancy blur effect */\n      #nprogress .peg {\n        display: block;\n        position: absolute;\n        right: 0px;\n        width: 100px;\n        height: 100%;\n        box-shadow: 0 0 10px ${color}, 0 0 5px ${color};\n        opacity: 1.0;\n        -webkit-transform: rotate(3deg) translate(0px, -4px);\n            -ms-transform: rotate(3deg) translate(0px, -4px);\n                transform: rotate(3deg) translate(0px, -4px);\n      }\n      /* Remove these to get rid of the spinner */\n      #nprogress .spinner {\n        display: block;\n        position: fixed;\n        z-index: 99999;\n        top: 15px;\n        right: 15px;\n      }\n      #nprogress .spinner-icon {\n        width: 18px;\n        height: 18px;\n        box-sizing: border-box;\n        border: solid 2px transparent;\n        border-top-color: ${color};\n        border-left-color: ${color};\n        border-radius: 50%;\n        -webkit-animation: nprogress-spinner 400ms linear infinite;\n                animation: nprogress-spinner 400ms linear infinite;\n      }\n      .nprogress-custom-parent {\n        overflow: hidden;\n        position: relative;\n      }\n      .nprogress-custom-parent #nprogress .spinner,\n      .nprogress-custom-parent #nprogress .bar {\n        position: absolute;\n      }\n      @-webkit-keyframes nprogress-spinner {\n        0%   { -webkit-transform: rotate(0deg); }\n        100% { -webkit-transform: rotate(360deg); }\n      }\n      @keyframes nprogress-spinner {\n        0%   { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n  `}\n      </style>\n    );\n\n    useEffect(() => {\n      options && NProgress.configure(options);\n\n      let timeout: NodeJS.Timeout;\n      const start = () =>\n          (timeout = setTimeout(() => NProgress.start(), delay)),\n        done = () => {\n          clearTimeout(timeout);\n          NProgress.done();\n        };\n\n      Router.events.on(\"routeChangeStart\", start);\n      Router.events.on(\"routeChangeComplete\", done);\n      Router.events.on(\"routeChangeError\", done);\n\n      return () => {\n        Router.events.off(\"routeChangeStart\", start);\n        Router.events.off(\"routeChangeComplete\", done);\n        Router.events.off(\"routeChangeError\", done);\n        clearTimeout(timeout);\n      };\n    }, []);\n\n    return nextProgressStyles;\n  },\n  () => true\n);\n\nexport default NextProgress;\n"],"names":["React","useEffect","NProgress","Router"],"mappings":";;;;;;;;;;;;;;AAcA;;;;;;AAMG;AACH,IAAM,YAAY,GAAGA,yBAAK,CAAC,IAAI,CAC7B,UAAC,EAMmB,EAAA;QALlB,EAAc,GAAA,EAAA,CAAA,MAAA,EAAd,MAAM,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAK,GAAA,EAAA,EACd,EAAc,GAAA,EAAA,CAAA,KAAA,EAAd,KAAK,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,MAAM,GAAA,EAAA,EACd,EAAS,GAAA,EAAA,CAAA,KAAA,EAAT,KAAK,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,CAAC,GAAA,EAAA,EACT,OAAO,GAAA,EAAA,CAAA,OAAA,EACP,eAAe,GAAA,EAAA,CAAA,eAAA,CAAA;AAEf,IAAA,IAAM,kBAAkB,IACtBA,yBAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EACG,eAAe;QACd,2PAOY,CAAA,MAAA,CAAA,KAAK,EAMT,iIAAA,CAAA,CAAA,MAAA,CAAA,OAAO,MAAM,KAAK,QAAQ,GAAG,MAAM,GAAG,EAAG,CAAA,MAAA,CAAA,MAAM,EAAI,IAAA,CAAA,EAAA,4NAAA,CAAA,CAAA,MAAA,CAStC,KAAK,EAAA,YAAA,CAAA,CAAA,MAAA,CAAa,KAAK,EAAA,omBAAA,CAAA,CAAA,MAAA,CAmB1B,KAAK,EAAA,gCAAA,CAAA,CAAA,MAAA,CACJ,KAAK,EAAA,6sBAAA,CAqB/B,CACW,CACT,CAAC;AAEF,IAAAC,eAAS,CAAC,YAAA;AACR,QAAA,OAAO,IAAIC,6BAAS,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;AAExC,QAAA,IAAI,OAAuB,CAAC;AAC5B,QAAA,IAAM,KAAK,GAAG,YAAA;AACV,YAAA,QAAC,OAAO,GAAG,UAAU,CAAC,cAAM,OAAAA,6BAAS,CAAC,KAAK,EAAE,CAAjB,EAAiB,EAAE,KAAK,CAAC,EAAC;SAAA,EACxD,IAAI,GAAG,YAAA;YACL,YAAY,CAAC,OAAO,CAAC,CAAC;YACtBA,6BAAS,CAAC,IAAI,EAAE,CAAC;AACnB,SAAC,CAAC;QAEJC,0BAAM,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;QAC5CA,0BAAM,CAAC,MAAM,CAAC,EAAE,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;QAC9CA,0BAAM,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QAE3C,OAAO,YAAA;YACLA,0BAAM,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;YAC7CA,0BAAM,CAAC,MAAM,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;YAC/CA,0BAAM,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;YAC5C,YAAY,CAAC,OAAO,CAAC,CAAC;AACxB,SAAC,CAAC;KACH,EAAE,EAAE,CAAC,CAAC;AAEP,IAAA,OAAO,kBAAkB,CAAC;AAC5B,CAAC,EACD,YAAM,EAAA,OAAA,IAAI,CAAJ,EAAI;;;;"}